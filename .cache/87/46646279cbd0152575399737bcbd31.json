{"id":"VO5s","dependencies":[{"name":"/home/samuel/Área de Trabalho/galoscopio/package.json","includedInParent":true,"mtime":1601739158434},{"name":"axios","loc":{"line":2,"column":18},"parent":"/home/samuel/Área de Trabalho/galoscopio/api/index.js","resolved":"/home/samuel/Área de Trabalho/galoscopio/node_modules/axios/index.js"},{"name":"../utils/data","loc":{"line":3,"column":27},"parent":"/home/samuel/Área de Trabalho/galoscopio/api/index.js","resolved":"/home/samuel/Área de Trabalho/galoscopio/utils/data.js"},{"name":"tle.js","loc":{"line":4,"column":37},"parent":"/home/samuel/Área de Trabalho/galoscopio/api/index.js","resolved":"/home/samuel/Área de Trabalho/galoscopio/node_modules/tle.js/dist/tlejs.umd.js"},{"name":"jspredict","loc":{"line":5,"column":22},"parent":"/home/samuel/Área de Trabalho/galoscopio/api/index.js","resolved":"/home/samuel/Área de Trabalho/galoscopio/node_modules/jspredict/jspredict.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=s(require(\"axios\")),t=s(require(\"../utils/data\")),a=require(\"tle.js\"),r=s(require(\"jspredict\"));function s(e){return e&&e.__esModule?e:{default:e}}function i(e){return e*(Math.PI/180)}e.default.defaults.baseURL=\"http://localhost:3000\";const l=(e,t,a)=>{return{x:e*Math.sin(i(t))*Math.cos(i(a)),y:e*Math.sin(i(t))*Math.sin(i(a)),z:e*Math.cos(i(t))}},o=500;var n={get:t=>e.default.get(\"/\",{params:t}),list:async()=>(0,a.getVisibleSatellites)({observerLat:-15.7447213,observerLng:-48.1757154,observerHeight:0,tles:t.default.map(e=>[e.name,e.line1,e.line2]),elevationThreshold:70,timestampMS:Date.now()}).map(e=>(console.log(e.info.elevation,e.info.azimuth),{name:e.tleArr[0],...l(500,e.info.elevation,e.info.azimuth)})),searchByName:(t,a)=>e.default.get(`/${t}`,{params:a}),searchBySatelliteNumber:(t,a)=>e.default.get(`/${t}`,{params:a})};exports.default=n;"},"sourceMaps":{"js":{"mappings":[{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":0}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":13}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":20}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":35}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":43}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":56}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":57}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":64}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":68}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":76}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":89}},{"source":"api/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":91}},{"source":"api/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":95}},{"source":"api/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":97}},{"source":"api/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":99}},{"source":"api/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":107}},{"source":"api/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":117}},{"source":"api/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":119}},{"source":"api/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":121}},{"source":"api/index.js","original":{"line":3,"column":0},"generated":{"line":1,"column":129}},{"source":"api/index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":147}},{"source":"api/index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":149}},{"source":"api/index.js","original":{"line":4,"column":0},"generated":{"line":1,"column":157}},{"source":"api/index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":167}},{"source":"api/index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":169}},{"source":"api/index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":171}},{"source":"api/index.js","original":{"line":5,"column":0},"generated":{"line":1,"column":179}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":193}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":202}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":204}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":207}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":214}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":217}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":219}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":230}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":232}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":233}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":241}},{"source":"api/index.js","original":{"line":9,"column":0},"generated":{"line":1,"column":244}},{"source":"api/index.js","name":"degrees_to_radians","original":{"line":9,"column":9},"generated":{"line":1,"column":253}},{"source":"api/index.js","name":"degrees","original":{"line":9,"column":28},"generated":{"line":1,"column":255}},{"source":"api/index.js","name":"degrees","original":{"line":11,"column":8},"generated":{"line":1,"column":258}},{"source":"api/index.js","name":"degrees","original":{"line":11,"column":8},"generated":{"line":1,"column":265}},{"source":"api/index.js","name":"Math","original":{"line":10,"column":10},"generated":{"line":1,"column":268}},{"source":"api/index.js","name":"PI","original":{"line":10,"column":15},"generated":{"line":1,"column":273}},{"source":"api/index.js","original":{"line":11,"column":22},"generated":{"line":1,"column":276}},{"source":"api/index.js","name":"axios","original":{"line":7,"column":0},"generated":{"line":1,"column":281}},{"source":"api/index.js","name":"defaults","original":{"line":7,"column":6},"generated":{"line":1,"column":283}},{"source":"api/index.js","name":"defaults","original":{"line":7,"column":6},"generated":{"line":1,"column":291}},{"source":"api/index.js","name":"baseURL","original":{"line":7,"column":15},"generated":{"line":1,"column":300}},{"source":"api/index.js","original":{"line":7,"column":25},"generated":{"line":1,"column":308}},{"source":"api/index.js","original":{"line":14,"column":0},"generated":{"line":1,"column":332}},{"source":"api/index.js","name":"getXYZ","original":{"line":14,"column":6},"generated":{"line":1,"column":338}},{"source":"api/index.js","original":{"line":14,"column":15},"generated":{"line":1,"column":340}},{"source":"api/index.js","name":"radius","original":{"line":14,"column":16},"generated":{"line":1,"column":341}},{"source":"api/index.js","name":"elevation","original":{"line":14,"column":24},"generated":{"line":1,"column":343}},{"source":"api/index.js","name":"azimuth","original":{"line":14,"column":35},"generated":{"line":1,"column":345}},{"source":"api/index.js","original":{"line":18,"column":8},"generated":{"line":1,"column":350}},{"source":"api/index.js","original":{"line":18,"column":8},"generated":{"line":1,"column":356}},{"source":"api/index.js","name":"x","original":{"line":18,"column":9},"generated":{"line":1,"column":357}},{"source":"api/index.js","name":"radius","original":{"line":15,"column":11},"generated":{"line":1,"column":359}},{"source":"api/index.js","name":"Math","original":{"line":15,"column":20},"generated":{"line":1,"column":361}},{"source":"api/index.js","name":"sin","original":{"line":15,"column":25},"generated":{"line":1,"column":366}},{"source":"api/index.js","name":"degrees_to_radians","original":{"line":15,"column":29},"generated":{"line":1,"column":370}},{"source":"api/index.js","name":"elevation","original":{"line":15,"column":48},"generated":{"line":1,"column":372}},{"source":"api/index.js","name":"Math","original":{"line":15,"column":62},"generated":{"line":1,"column":376}},{"source":"api/index.js","name":"cos","original":{"line":15,"column":67},"generated":{"line":1,"column":381}},{"source":"api/index.js","name":"degrees_to_radians","original":{"line":15,"column":71},"generated":{"line":1,"column":385}},{"source":"api/index.js","name":"azimuth","original":{"line":15,"column":90},"generated":{"line":1,"column":387}},{"source":"api/index.js","name":"y","original":{"line":18,"column":12},"generated":{"line":1,"column":391}},{"source":"api/index.js","name":"radius","original":{"line":16,"column":11},"generated":{"line":1,"column":393}},{"source":"api/index.js","name":"Math","original":{"line":16,"column":20},"generated":{"line":1,"column":395}},{"source":"api/index.js","name":"sin","original":{"line":16,"column":25},"generated":{"line":1,"column":400}},{"source":"api/index.js","name":"degrees_to_radians","original":{"line":16,"column":29},"generated":{"line":1,"column":404}},{"source":"api/index.js","name":"elevation","original":{"line":16,"column":48},"generated":{"line":1,"column":406}},{"source":"api/index.js","name":"Math","original":{"line":16,"column":62},"generated":{"line":1,"column":410}},{"source":"api/index.js","name":"sin","original":{"line":16,"column":67},"generated":{"line":1,"column":415}},{"source":"api/index.js","name":"degrees_to_radians","original":{"line":16,"column":71},"generated":{"line":1,"column":419}},{"source":"api/index.js","name":"azimuth","original":{"line":16,"column":90},"generated":{"line":1,"column":421}},{"source":"api/index.js","name":"z","original":{"line":18,"column":15},"generated":{"line":1,"column":425}},{"source":"api/index.js","name":"radius","original":{"line":17,"column":11},"generated":{"line":1,"column":427}},{"source":"api/index.js","name":"Math","original":{"line":17,"column":20},"generated":{"line":1,"column":429}},{"source":"api/index.js","name":"cos","original":{"line":17,"column":25},"generated":{"line":1,"column":434}},{"source":"api/index.js","name":"degrees_to_radians","original":{"line":17,"column":29},"generated":{"line":1,"column":438}},{"source":"api/index.js","name":"elevation","original":{"line":17,"column":48},"generated":{"line":1,"column":440}},{"source":"api/index.js","name":"RADIUS","original":{"line":21,"column":6},"generated":{"line":1,"column":446}},{"source":"api/index.js","original":{"line":21,"column":15},"generated":{"line":1,"column":448}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":452}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":456}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":458}},{"source":"api/index.js","name":"get","original":{"line":24,"column":4},"generated":{"line":1,"column":459}},{"source":"api/index.js","name":"data","original":{"line":24,"column":8},"generated":{"line":1,"column":463}},{"source":"api/index.js","name":"axios","original":{"line":25,"column":15},"generated":{"line":1,"column":466}},{"source":"api/index.js","name":"get","original":{"line":25,"column":21},"generated":{"line":1,"column":468}},{"source":"api/index.js","name":"get","original":{"line":25,"column":21},"generated":{"line":1,"column":476}},{"source":"api/index.js","original":{"line":25,"column":25},"generated":{"line":1,"column":480}},{"source":"api/index.js","original":{"line":25,"column":30},"generated":{"line":1,"column":484}},{"source":"api/index.js","name":"params","original":{"line":25,"column":31},"generated":{"line":1,"column":485}},{"source":"api/index.js","name":"data","original":{"line":25,"column":39},"generated":{"line":1,"column":492}},{"source":"api/index.js","name":"list","original":{"line":27,"column":10},"generated":{"line":1,"column":496}},{"source":"api/index.js","original":{"line":27,"column":4},"generated":{"line":1,"column":501}},{"source":"api/index.js","original":{"line":51,"column":28},"generated":{"line":1,"column":511}},{"source":"api/index.js","original":{"line":51,"column":49},"generated":{"line":1,"column":513}},{"source":"api/index.js","original":{"line":51,"column":49},"generated":{"line":1,"column":515}},{"source":"api/index.js","original":{"line":51,"column":49},"generated":{"line":1,"column":537}},{"source":"api/index.js","name":"observerLat","original":{"line":52,"column":3},"generated":{"line":1,"column":538}},{"source":"api/index.js","original":{"line":47,"column":15},"generated":{"line":1,"column":551}},{"source":"api/index.js","name":"observerLng","original":{"line":53,"column":3},"generated":{"line":1,"column":562}},{"source":"api/index.js","original":{"line":48,"column":15},"generated":{"line":1,"column":575}},{"source":"api/index.js","name":"observerHeight","original":{"line":54,"column":3},"generated":{"line":1,"column":586}},{"source":"api/index.js","original":{"line":49,"column":17},"generated":{"line":1,"column":601}},{"source":"api/index.js","name":"tles","original":{"line":55,"column":3},"generated":{"line":1,"column":603}},{"source":"api/index.js","name":"sattelliteList","original":{"line":55,"column":9},"generated":{"line":1,"column":608}},{"source":"api/index.js","name":"map","original":{"line":55,"column":24},"generated":{"line":1,"column":610}},{"source":"api/index.js","name":"map","original":{"line":55,"column":24},"generated":{"line":1,"column":618}},{"source":"api/index.js","name":"sattelite","original":{"line":55,"column":28},"generated":{"line":1,"column":622}},{"source":"api/index.js","original":{"line":55,"column":41},"generated":{"line":1,"column":625}},{"source":"api/index.js","name":"sattelite","original":{"line":55,"column":42},"generated":{"line":1,"column":626}},{"source":"api/index.js","name":"name","original":{"line":55,"column":52},"generated":{"line":1,"column":628}},{"source":"api/index.js","name":"sattelite","original":{"line":55,"column":58},"generated":{"line":1,"column":633}},{"source":"api/index.js","name":"line1","original":{"line":55,"column":68},"generated":{"line":1,"column":635}},{"source":"api/index.js","name":"sattelite","original":{"line":55,"column":75},"generated":{"line":1,"column":641}},{"source":"api/index.js","name":"line2","original":{"line":55,"column":85},"generated":{"line":1,"column":643}},{"source":"api/index.js","name":"elevationThreshold","original":{"line":56,"column":3},"generated":{"line":1,"column":651}},{"source":"api/index.js","original":{"line":56,"column":23},"generated":{"line":1,"column":670}},{"source":"api/index.js","name":"timestampMS","original":{"line":57,"column":3},"generated":{"line":1,"column":673}},{"source":"api/index.js","name":"Date","original":{"line":57,"column":16},"generated":{"line":1,"column":685}},{"source":"api/index.js","name":"now","original":{"line":57,"column":21},"generated":{"line":1,"column":690}},{"source":"api/index.js","name":"map","original":{"line":60,"column":27},"generated":{"line":1,"column":698}},{"source":"api/index.js","name":"sattelite","original":{"line":60,"column":31},"generated":{"line":1,"column":702}},{"source":"api/index.js","name":"console","original":{"line":61,"column":3},"generated":{"line":1,"column":706}},{"source":"api/index.js","name":"log","original":{"line":61,"column":11},"generated":{"line":1,"column":714}},{"source":"api/index.js","name":"sattelite","original":{"line":61,"column":15},"generated":{"line":1,"column":718}},{"source":"api/index.js","name":"info","original":{"line":61,"column":25},"generated":{"line":1,"column":720}},{"source":"api/index.js","name":"elevation","original":{"line":61,"column":30},"generated":{"line":1,"column":725}},{"source":"api/index.js","name":"sattelite","original":{"line":61,"column":41},"generated":{"line":1,"column":735}},{"source":"api/index.js","name":"info","original":{"line":61,"column":51},"generated":{"line":1,"column":737}},{"source":"api/index.js","name":"azimuth","original":{"line":61,"column":56},"generated":{"line":1,"column":742}},{"source":"api/index.js","original":{"line":62,"column":10},"generated":{"line":1,"column":751}},{"source":"api/index.js","name":"name","original":{"line":63,"column":4},"generated":{"line":1,"column":752}},{"source":"api/index.js","name":"sattelite","original":{"line":63,"column":10},"generated":{"line":1,"column":757}},{"source":"api/index.js","name":"tleArr","original":{"line":63,"column":20},"generated":{"line":1,"column":759}},{"source":"api/index.js","original":{"line":63,"column":27},"generated":{"line":1,"column":766}},{"source":"api/index.js","name":"getXYZ","original":{"line":64,"column":7},"generated":{"line":1,"column":772}},{"source":"api/index.js","original":{"line":21,"column":15},"generated":{"line":1,"column":774}},{"source":"api/index.js","name":"sattelite","original":{"line":64,"column":22},"generated":{"line":1,"column":778}},{"source":"api/index.js","name":"info","original":{"line":64,"column":32},"generated":{"line":1,"column":780}},{"source":"api/index.js","name":"elevation","original":{"line":64,"column":37},"generated":{"line":1,"column":785}},{"source":"api/index.js","name":"sattelite","original":{"line":64,"column":48},"generated":{"line":1,"column":795}},{"source":"api/index.js","name":"info","original":{"line":64,"column":58},"generated":{"line":1,"column":797}},{"source":"api/index.js","name":"azimuth","original":{"line":64,"column":63},"generated":{"line":1,"column":802}},{"source":"api/index.js","name":"searchByName","original":{"line":68,"column":4},"generated":{"line":1,"column":814}},{"source":"api/index.js","original":{"line":68,"column":16},"generated":{"line":1,"column":827}},{"source":"api/index.js","name":"name","original":{"line":68,"column":17},"generated":{"line":1,"column":828}},{"source":"api/index.js","name":"data","original":{"line":68,"column":23},"generated":{"line":1,"column":830}},{"source":"api/index.js","name":"axios","original":{"line":69,"column":15},"generated":{"line":1,"column":834}},{"source":"api/index.js","name":"get","original":{"line":69,"column":21},"generated":{"line":1,"column":836}},{"source":"api/index.js","name":"get","original":{"line":69,"column":21},"generated":{"line":1,"column":844}},{"source":"api/index.js","name":"name","original":{"line":69,"column":29},"generated":{"line":1,"column":852}},{"source":"api/index.js","original":{"line":69,"column":37},"generated":{"line":1,"column":856}},{"source":"api/index.js","name":"params","original":{"line":69,"column":38},"generated":{"line":1,"column":857}},{"source":"api/index.js","name":"data","original":{"line":69,"column":46},"generated":{"line":1,"column":864}},{"source":"api/index.js","name":"searchBySatelliteNumber","original":{"line":71,"column":4},"generated":{"line":1,"column":868}},{"source":"api/index.js","original":{"line":71,"column":27},"generated":{"line":1,"column":892}},{"source":"api/index.js","name":"number","original":{"line":71,"column":28},"generated":{"line":1,"column":893}},{"source":"api/index.js","name":"data","original":{"line":71,"column":36},"generated":{"line":1,"column":895}},{"source":"api/index.js","name":"axios","original":{"line":72,"column":15},"generated":{"line":1,"column":899}},{"source":"api/index.js","name":"get","original":{"line":72,"column":21},"generated":{"line":1,"column":901}},{"source":"api/index.js","name":"get","original":{"line":72,"column":21},"generated":{"line":1,"column":909}},{"source":"api/index.js","name":"number","original":{"line":72,"column":29},"generated":{"line":1,"column":917}},{"source":"api/index.js","original":{"line":72,"column":39},"generated":{"line":1,"column":921}},{"source":"api/index.js","name":"params","original":{"line":72,"column":40},"generated":{"line":1,"column":922}},{"source":"api/index.js","name":"data","original":{"line":72,"column":48},"generated":{"line":1,"column":929}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":934}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":942}},{"source":"api/index.js","original":{"line":23,"column":15},"generated":{"line":1,"column":950}}],"sources":{"api/index.js":"\nimport axios from 'axios';\nimport sattelliteList from '../utils/data'\nimport { getVisibleSatellites } from 'tle.js';\nimport jspredict from 'jspredict';\n\naxios.defaults.baseURL = 'http://localhost:3000';\n\nfunction degrees_to_radians(degrees) {\n\tvar pi = Math.PI;\n\treturn degrees * (pi/180);\n}\n\nconst getXYZ = (radius, elevation, azimuth) => {\n\tconst x = radius * Math.sin(degrees_to_radians(elevation)) * Math.cos(degrees_to_radians(azimuth));\n\tconst y = radius * Math.sin(degrees_to_radians(elevation)) * Math.sin(degrees_to_radians(azimuth));\n\tconst z = radius * Math.cos(degrees_to_radians(elevation));\n\treturn {x, y, z};\n}\n\nconst RADIUS = 500;\n\nexport default {\n    get(data){\n        return axios.get(\"/\", {params: data});\n    },\n    async list(){\n\t\t// const docs = [];\n\t\t// let page = 1;\n\t\t// let end = false;\n\t\t// while(!end) {\n\t\t// \tconst { data } = await axios.get('/', {\n\t\t// \t\tparams: {\n\t\t// \t\t\t'page-size': 100,\n\t\t// \t\t\tpage\n\t\t// \t\t}\n\t\t// \t});\n\t\t// \tif(data.member.length == 0) {\n\t\t// \t\tend = true;\n\t\t// \t\tbreak;\n\t\t// \t}\n\t\t// \tdocs.push(...data.member);\n\t\t// \tpage++;\n\t\t// }\n\t\t// return docs;\n\n\t\tconst lat = -15.7447213;\n\t\tconst lng = -48.1757154;\n\t\tconst height = 0;\n\n\t\tconst visibleSattelites = getVisibleSatellites({\n\t\t\tobserverLat: lat,\n\t\t\tobserverLng: lng,\n\t\t\tobserverHeight: height,\n\t\t\ttles: sattelliteList.map(sattelite => [sattelite.name, sattelite.line1, sattelite.line2]),\n\t\t\televationThreshold: 70,\n\t\t\ttimestampMS: Date.now()\n\t\t});\n\n\t\treturn visibleSattelites.map(sattelite => {\n\t\t\tconsole.log(sattelite.info.elevation, sattelite.info.azimuth);\n\t\t\treturn {\n\t\t\t\tname: sattelite.tleArr[0],\n\t\t\t\t...getXYZ(RADIUS, sattelite.info.elevation, sattelite.info.azimuth)\n\t\t\t}\n\t\t});\n    },\n    searchByName(name, data){\n        return axios.get(`/${name}`, {params: data});\n    },\n    searchBySatelliteNumber(number, data){\n        return axios.get(`/${number}`, {params: data});\n    },\n}"},"lineCount":null}},"error":null,"hash":"97ab160439c04df89e9693a84d4e54b7","cacheData":{"env":{}}}